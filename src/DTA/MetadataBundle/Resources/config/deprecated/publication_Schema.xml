<?xml version="1.0" encoding="utf-8"?>
<database name="DTAMetadata" namespace="DTA\MetadataBundle\Model\Publication" defaultIdMethod="native">
    
    <!-- PUBLICATION and WORK
    ________________________________________________________-->
    
    <table name="essay" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="publication_id" type="INTEGER" primaryKey="true" required="true"/>
        <foreign-key foreignTable="publication" name="fk_aufsatz_publikation1">
            <reference local="publication_id" foreign="id"/>
        </foreign-key>
        <index name="fk_aufsatz_publikation1">
            <index-column name="publication_id"/>
        </index>
    </table>

    <table name="magazine" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="publication_id" type="INTEGER" primaryKey="true" required="true"/>
        <foreign-key foreignTable="publication" name="fk_zeitschrift_publikation1">
            <reference local="publication_id" foreign="id"/>
        </foreign-key>
        <index name="fk_zeitschrift_publikation1">
            <index-column name="publication_id"/>
        </index>
    </table>

    <table name="monograph" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="publication_id" type="INTEGER" primaryKey="true" required="true"/>
        <foreign-key foreignTable="publication" name="fk_monografie_publikation1">
            <reference local="publication_id" foreign="id"/>
        </foreign-key>
        <index name="fk_monografie_publikation1">
            <index-column name="publication_id"/>
        </index>
    </table>

    <!-- The base class for all publications. -->
    <table name="publication" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="title_id" type="INTEGER" required="true"/>
        <column name="publishingCompany_id" type="INTEGER" required="false"/>
        <column name="place_id" type="INTEGER" required="false"/>
        <column name="dateSpecification_id" type="INTEGER" required="false"/>
        <column name="printRun" type="LONGVARCHAR" required="false"/>
        <column name="printRunComment" type="LONGVARCHAR" required="false"/>
        <column name="edition" type="LONGVARCHAR" required="false"/>
        <column name="numPages" type="INTEGER" required="false"/>
        <column name="numPagesNormed" type="INTEGER" required="false"/>
        <column name="bibliographicCitation" type="LONGVARCHAR" required="false"/>
        <foreign-key foreignTable="title" name="fk_publikation_titel12">
            <reference local="title_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="publishingCompany" name="fk_publikation_verlag1">
            <reference local="publishingCompany_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="place" name="fk_publikation_ort1">
            <reference local="place_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="dateSpecification" name="fk_publication_dateSpecification1">
            <reference local="dateSpecification_id" foreign="id"/>
        </foreign-key>
        <index name="fk_publikation_verlag1">
            <index-column name="publishingCompany_id"/>
        </index>
        <index name="fk_publikation_ort1">
            <index-column name="place_id"/>
        </index>
        <index name="fk_publication_dateSpecification1">
            <index-column name="dateSpecification_id"/>
        </index>
    </table>

    <table name="publishingCompany" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="name" type="LONGVARCHAR" required="true"/>
        <column name="gnd" type="LONGVARCHAR" required="false"/>
    </table>

    <table name="series" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="publication_id" type="INTEGER" primaryKey="true" required="true"/>
        <column name="volume" type="LONGVARCHAR" required="false"/>
        <foreign-key foreignTable="publication" name="fk_reihe_publikation1">
            <reference local="publication_id" foreign="id"/>
        </foreign-key>
        <index name="fk_reihe_publikation1">
            <index-column name="publication_id"/>
        </index>
    </table>

    <!--    Intended for monographs that consist i.e. of several books.-->
    <table name="volume" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="volumeIndex" type="LONGVARCHAR" required="false"/>
        <column name="volumeIndexNumerical" type="INTEGER" required="false"/>
        <column name="totalVolumes" type="INTEGER" required="false"/>
        <column name="monograph_id" type="INTEGER" required="true"/>
        <column name="monograph_publication_id" type="INTEGER" required="true"/>
        <foreign-key foreignTable="monograph" name="fk_volume_monograph1">
            <reference local="monograph_id" foreign="id"/>
            <reference local="monograph_publication_id" foreign="publication_id"/>
        </foreign-key>
        <index name="fk_volume_monograph1">
            <index-column name="monograph_id"/>
            <index-column name="monograph_publication_id"/>
        </index>
    </table>

    <!-- The core class representing an authors work. This is independent of the actual written form of the work which is represented in the Writ class. -->
    <table name="work" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="status_id" type="INTEGER" required="true"/>
        <column name="dateSpecification_id" type="INTEGER" required="false"/>
        <column name="genre_id" type="INTEGER" required="false"/>
        <column name="subgenre_id" type="INTEGER" required="false"/>
        <column name="dwdsGenre_id" type="INTEGER" required="false"/>
        <column name="dwdsSubgenre_id" type="INTEGER" required="false"/>
        <column name="doi" type="LONGVARCHAR" required="false"/>
        <column name="comments" type="LONGVARCHAR" required="false"/>
        <column name="format" type="LONGVARCHAR" required="false"/>
        <column name="directoryName" type="LONGVARCHAR" required="false"/>
        <foreign-key foreignTable="status" name="fk_werk_status1">
            <reference local="status_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="genre" name="fk_werk_genre1">
            <reference local="genre_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="genre" name="fk_werk_genre2">
            <reference local="subgenre_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="dwdsGenre" name="fk_werk_dwdsGenre2">
            <reference local="dwdsGenre_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="dwdsGenre" name="fk_werk_dwdsGenre3">
            <reference local="dwdsSubgenre_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="dateSpecification" name="fk_work_dateSpecification1">
            <reference local="dateSpecification_id" foreign="id"/>
        </foreign-key>
        <index name="fk_werk_status1">
            <index-column name="status_id"/>
        </index>
        <index name="fk_werk_genre1">
            <index-column name="genre_id"/>
        </index>
        <index name="fk_werk_genre2">
            <index-column name="subgenre_id"/>
        </index>
        <index name="fk_werk_dwdsGenre2">
            <index-column name="dwdsGenre_id"/>
        </index>
        <index name="fk_werk_dwdsGenre3">
            <index-column name="dwdsSubgenre_id"/>
        </index>
        <index name="fk_work_dateSpecification1">
            <index-column name="dateSpecification_id"/>
        </index>
    </table>

    <!--Represents the written form of an authors work. It is the base of any publication.-->
    <table name="writ" idMethod="native">
        <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="work_id" type="INTEGER" required="true"/>
        <column name="publication_id" type="INTEGER" required="true"/>
        <column name="publisher_id" type="INTEGER" required="false"/>
        <column name="printer_id" type="INTEGER" required="false"/>
        <column name="translator_id" type="INTEGER" required="false"/>
        <column name="numPages" type="INTEGER" required="false"/>
        <column name="relatedSet_id" type="INTEGER" required="false"/>
        <foreign-key foreignTable="work" name="editionVon">
            <reference local="work_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="publisher" name="fk_edition_herausgeber1">
            <reference local="publisher_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="printer" name="fk_edition_drucker1">
            <reference local="printer_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="translator" name="fk_schriftstueck_uebersetzer1">
            <reference local="translator_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="publication" name="fk_schriftstueck_publikation1">
            <reference local="publication_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="relatedSet" name="fk_writ_relatedSet1">
            <reference local="relatedSet_id" foreign="id"/>
        </foreign-key>
        <index name="editionVon">
            <index-column name="work_id"/>
        </index>
        <index name="fk_edition_herausgeber1">
            <index-column name="publisher_id"/>
        </index>
        <index name="fk_edition_drucker1">
            <index-column name="printer_id"/>
        </index>
        <index name="fk_schriftstueck_uebersetzer1">
            <index-column name="translator_id"/>
        </index>
        <index name="fk_schriftstueck_publikation1">
            <index-column name="publication_id"/>
        </index>
        <index name="fk_writ_relatedSet1">
            <index-column name="relatedSet_id"/>
        </index>
    </table>

  
    <table name="writ_writGroup" isCrossRef="true" idMethod="native">
        <column name="writGroup_id" type="INTEGER" primaryKey="true" required="true"/>
        <column name="writ_id" type="INTEGER" primaryKey="true" required="true"/>
        <foreign-key foreignTable="writGroup" name="fk_writGroup_has_writ_writGroup1">
            <reference local="writGroup_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="writ" name="fk_writGroup_has_writ_writ1">
            <reference local="writ_id" foreign="id"/>
        </foreign-key>
        <index name="fk_writGroup_has_writ_writ1">
            <index-column name="writ_id"/>
        </index>
        <index name="fk_writGroup_has_writ_writGroup1">
            <index-column name="writGroup_id"/>
        </index>
    </table>

</database>
